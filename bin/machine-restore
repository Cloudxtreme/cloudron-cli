#!/usr/bin/env node

'use strict';

require('../src/common.js');

var program = require('commander'),
    actions = require('../src/machine/actions.js');

program.version(require('../package.json').version);

program.description('Restores a Cloudron')
    .option('-u, --username <username>', 'Username')
    .option('-p, --password <password>', 'Password (unsafe)')
    .option('--provider <provider>', 'Provider [caas,ec2]')
    .option('--backup <backup>', 'The backup to restore to')
    .option('--type <type>', 'Instance type')
    .option('--key <key>', 'SSH key name')
    .option('--fqdn <domain>', 'Domain eg. cloudron.io')
    .option('--subnet <subnet>', 'Subnet id')
    .option('--security-group <securityGroup>', 'Security group id')
    .option('--region <region>', 'AWS region')
    .option('--access-key-id <accessKeyId>', 'AWS accessKeyId')
    .option('--secret-access-key <secretAccessKey>', 'AWS secretAccessKey')
    .option('--backup-bucket <backupBucket>', 'S3 backupBucket');

program.parse(process.argv);

actions.restore(program);
